"use strict";(()=>{var et=Object.defineProperty,rt=Object.defineProperties;var ot=Object.getOwnPropertyDescriptors;var W=Object.getOwnPropertySymbols;var it=Object.prototype.hasOwnProperty,nt=Object.prototype.propertyIsEnumerable;var j=(o,t,e)=>t in o?et(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e,V=(o,t)=>{for(var e in t||(t={}))it.call(t,e)&&j(o,e,t[e]);if(W)for(var e of W(t))nt.call(t,e)&&j(o,e,t[e]);return o},q=(o,t)=>rt(o,ot(t));var l=(o,t,e)=>(j(o,typeof t!="symbol"?t+"":t,e),e),z=(o,t,e)=>{if(!t.has(o))throw TypeError("Cannot "+e)};var i=(o,t,e)=>(z(o,t,"read from private field"),e?e.call(o):t.get(o)),s=(o,t,e)=>{if(t.has(o))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(o):t.set(o,e)},d=(o,t,e,r)=>(z(o,t,"write to private field"),r?r.call(o,e):t.set(o,e),e);var h=(o,t,e)=>(z(o,t,"access private method"),e);var A,F,b=class b{static toString(t){let e=t<0,r=[];for(e||(t=-t);t<=-this.radix;)r.unshift(this.digits[-parseInt(t%this.radix)]),t=t/this.radix;r.unshift(this.digits[-parseInt(t)]),e&&r.unshift("-");let n=r.join("");return n||"0"}static toLong(t){if(!t||t.length==0)return 0;let e=h(this,A,F).call(this),r=0,n=t[0]=="-";if(!(a=>{for(let f=n?1:0,N=a.length;f<N;f++)if(e[a[f]]==null||e[a[f]]==null)return!1;return!0})(t))return 0;for(let a=n?1:0,f=t.length;a<f;a++){if(t[a]<"0"||t[a]>"z"){if(r>0)break;continue}r*=this.radix,r+=e[t[a]]}return parseInt(n?-r:r)}};A=new WeakSet,F=function(){let t=[];for(let e in Object.keys(this.digits))t[this.digits[e]]=parseInt(e);return t},s(b,A),l(b,"digits","0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz"),l(b,"radix",b.digits.length);var E=b;var I,D,G,k,$,T=class{constructor(t){s(this,D);s(this,k);s(this,I,void 0);d(this,I,t)}createUid(){let t=E.toString(h(this,D,G).call(this,0,2e5)).padStart(3,0);return"".concat(h(this,k,$).call(this,i(this,I)),"-").concat(t).concat(E.toString(Date.now()))}};I=new WeakMap,D=new WeakSet,G=function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1)+t)},k=new WeakSet,$=function(t){let e=0;for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);e=(e<<5)-e+n,e&=e}return new Uint16Array([e])[0].toString(36)};var x,v=class{constructor(){l(this,"Key",Object.freeze({pfpuid:"__bnc_pfpuid__"}));s(this,x,60*60*24*7)}get(t){let e=document.cookie;if(!e)return null;let r=e.split(";");for(let n of r)if(n.startsWith(t+"="))return decodeURIComponent(n.split("=")[1]);return null}set(t,e,r){let n=t+"="+encodeURIComponent(e)+"; max-age="+(r==null?i(this,x):r)+"; path=/";document.cookie=n}};x=new WeakMap;function Z(o,t,e={}){let r=new AbortController,n=setTimeout(()=>r.abort(),t);return fetch(o,q(V({},e),{signal:r.signal})).then(c=>{if(clearTimeout(n),c.ok)return c;throw new Error("Invalid Response: ".concat(c.status))}).catch(c=>{throw c instanceof DOMException&&c.name==="AbortError"?new Error("Fetch timeout"):c})}var P,M,C=class{constructor(){s(this,P,"https://api.npoint.io/89d2a4f22ec8609ca0b2");s(this,M,1e3)}getAd(t){let e={mode:"cors",headers:{"Content-Type":"text/plain"}},r=Object.fromEntries(Object.entries(t).filter(([c,a])=>a!==null)),n=i(this,P)+"?"+new URLSearchParams(r);return Z(n,i(this,M),e)}};P=new WeakMap,M=new WeakMap;function H(o){let t=o.document,e=t.location.href||"";var r=t.referrer||"";if(o.top===o.self)return e;try{e=o.top.location.href,r=o.top.document.referrer}catch(n){try{o.frameElement&&!o.frameElement.src?r="":r&&(e=r)}catch(c){e=r||""}}return e}var ct=o=>new Promise(t=>setTimeout(t,o));function L(o,t,e){return new Promise((r,n)=>o().then(r).catch(c=>e>0?ct(t).then(()=>L(o,t,e-1)).then(r).catch(n):n(c)))}function O(o){let t=document.createElement("tmp");t.innerHTML=o;let e=Array.from(t.querySelectorAll("script"));return e.length>0&&e.forEach(r=>{let n=document.createElement("script");Array.from(r.attributes).forEach(c=>n.setAttribute(c.name,c.value)),n.appendChild(document.createTextNode(r.innerHTML)),r.parentNode.replaceChild(n,r)}),Array.from(t.childNodes)}var at=o=>new Promise(t=>setTimeout(t,o)),m,w,u,g,S,Y,K,J,U,Q,_=class{constructor(t,e,r){s(this,S);s(this,K);s(this,U);l(this,"AdType",Object.freeze({BANNER:1,TAG:2,VIDEO:99}));s(this,m,void 0);s(this,w,void 0);s(this,u,void 0);s(this,g,void 0);d(this,m,t),d(this,w,e),d(this,u,r)}initializeZone(){let t=i(this,m).getElementById(i(this,w)),e=i(this,u).zone;O(e.p||"").forEach(r=>t.appendChild(r)),d(this,g,h(this,S,Y).call(this,e)),t.appendChild(i(this,g)),O(e.a||"").forEach(r=>t.appendChild(r)),O(i(this,u).cs||"").forEach(r=>t.appendChild(r))}async applyAd(){return L(h(this,K,J).bind(this),0,i(this,u).ads.length-1||0)}};m=new WeakMap,w=new WeakMap,u=new WeakMap,g=new WeakMap,S=new WeakSet,Y=function(t){let e=i(this,m).createElement("iframe");return e.id=i(this,w)+"_iframe",e.width=t.w,e.height=t.h,e.scrolling="no",e.frameBorder="0",e.marginWidth="0",e.marginHeight="0",e.style.overflow="hidden",e.style.border="0",e.style.margin="0 auto",e.style.width=t.w,e.style.height=t.h,e},K=new WeakSet,J=async function(){let t=i(this,g),e=i(this,u).ads.shift();if(e!=null){switch(e.type){case(this.AdType.BANNER||this.AdType.TAG):t.srcdoc=e.tag;break;case this.AdType.VIDEO:let r=i(this,m).createElement("script");r.src=e.pjs,t.parentElement.appendChild(r),globalThis.bncvp=globalThis.bncvp||{cmd:[]},bncvp.cmd.push(function(){bncvp.publish(i(this,g).id,e)});break;default:break}return at(1e3).then(()=>{if(!h(this,U,Q).call(this,t))throw new Error("The deployment of the ad tag could not be verified.")})}},U=new WeakSet,Q=function(t){return t.contentDocument.querySelector("A, IFRAME")!==null};var y,p,R,X,B=class{constructor(){s(this,R);l(this,"ConfigKey",Object.freeze({PID:"pid"}));s(this,y,void 0);s(this,p,void 0);l(this,"cmd");this.cmd=[],this.cmd.push=t=>t(),d(this,p,new v)}config(t){d(this,y,t),h(this,R,X).call(this)}publish(t,e){let r=globalThis,n=r.document,c={pid:i(this,y)[this.ConfigKey.PID],pfpuid:i(this,p).get(i(this,p).Key.pfpuid),zid:t,charset:n.characterSet,loc:H(r)};new C().getAd(c).then(a=>a.json()).then(a=>{let f=new _(n,e,a);f.initializeZone(),f.applyAd().catch(N=>{})}).catch(a=>{})}};y=new WeakMap,p=new WeakMap,R=new WeakSet,X=function(){if(!i(this,y)[this.ConfigKey.PID])return;i(this,p).get(i(this,p).Key.pfpuid)||i(this,p).set(i(this,p).Key.pfpuid,new T(i(this,y)[this.ConfigKey.PID]).createUid())};var tt=new B;var ht=globalThis.bnctag?globalThis.bnctag.cmd:[];globalThis.bnctag=tt;for(let o of ht)o();})();
